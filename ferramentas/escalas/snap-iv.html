<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SNAP-IV - TDAH | Bruno de Souza</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        :root {
            /* Identidade Visual */
            --bg-color: #f0f8ff;
            --primary: #ff6b6b;       /* Vermelho Suave (Alerta/TDAH) */
            --primary-dark: #ee5253;
            --secondary: #48dbfb;     /* Azul Claro */
            --accent: #feca57;        /* Amarelo */
            --text: #2d3436;
            --card-border: #b2bec3;
            
            /* Botões */
            --btn-0: #81ecec;
            --btn-1: #74b9ff;
            --btn-2: #fdcb6e;
            --btn-3: #ff7675;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#dfe6e9 2px, transparent 2px);
            background-size: 20px 20px;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            color: var(--text);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- CABEÇALHO (Estilo Fita Adesiva) --- */
        header {
            text-align: center;
            margin: 20px auto 40px auto;
            background: white;
            padding: 30px 20px;
            border-radius: 25px;
            border: 3px dashed var(--primary);
            box-shadow: 8px 8px 0 rgba(0,0,0,0.05);
            position: relative;
            max-width: 800px;
            width: 100%;
        }

        header::before {
            content: ""; 
            position: absolute; top: -15px; left: 50%; transform: translateX(-50%) rotate(-1deg);
            width: 140px; height: 35px; 
            background-color: rgba(255, 107, 107, 0.3); 
            border: 1px solid rgba(0,0,0,0.05); 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 2rem;
            color: var(--primary);
            text-transform: uppercase;
            margin: 0;
            font-weight: 800;
        }

        .subtitle { margin-top: 5px; color: #636e72; font-weight: 600; }

        /* --- CONTAINER PRINCIPAL --- */
        .main-container {
            max-width: 850px;
            width: 100%;
            margin-bottom: 80px;
        }

        /* --- SEÇÕES --- */
        .section-header {
            background: var(--secondary);
            color: white;
            padding: 15px 25px;
            border-radius: 15px;
            font-weight: 800;
            margin: 30px 0 20px 0;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
            box-shadow: 0 4px 0 rgba(0,0,0,0.1);
        }

        /* --- CARTÃO DE PERGUNTA --- */
        .question-card {
            background: white;
            border-radius: 20px;
            padding: 20px 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 0 rgba(0,0,0,0.05);
            border: 2px solid transparent;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .question-card:hover {
            border-color: var(--card-border);
            transform: translateY(-2px);
        }

        .q-header {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .q-number {
            background: var(--accent);
            color: var(--text);
            font-weight: 800;
            min-width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .q-text {
            font-size: 1.1rem;
            font-weight: 700;
            color: #2d3436;
            line-height: 1.4;
        }

        /* --- BOTÕES DE RESPOSTA --- */
        .options-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .option-label {
            padding: 12px 5px;
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            font-weight: 700;
            font-size: 0.9rem;
            transition: all 0.2s;
            border: 2px solid transparent;
            background: #f8f9fa;
            color: #636e72;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .opt-val { font-size: 1.2rem; margin-bottom: 2px; opacity: 0.5; }
        .opt-text { font-size: 0.75rem; font-weight: 600; text-transform: uppercase; }

        /* Estilos Específicos por Valor */
        .btn-0:hover { background: #e0fcfc; color: #00cec9; border-color: #81ecec; }
        .btn-0:has(input:checked) { background: var(--btn-0); color: #006266; border-color: #00cec9; box-shadow: 0 4px 0 #00cec9; }

        .btn-1:hover { background: #e3f2fd; color: #0984e3; border-color: #74b9ff; }
        .btn-1:has(input:checked) { background: var(--btn-1); color: #fff; border-color: #0984e3; box-shadow: 0 4px 0 #0984e3; }

        .btn-2:hover { background: #fff8e1; color: #e17055; border-color: #fdcb6e; }
        .btn-2:has(input:checked) { background: var(--btn-2); color: #fff; border-color: #e17055; box-shadow: 0 4px 0 #e17055; }

        .btn-3:hover { background: #ffebee; color: #d63031; border-color: #ff7675; }
        .btn-3:has(input:checked) { background: var(--btn-3); color: #fff; border-color: #d63031; box-shadow: 0 4px 0 #d63031; }

        input[type="radio"] { display: none; }

        /* --- BARRA DE RESULTADOS (Fixa) --- */
        .result-bar {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: #fff;
            color: var(--text);
            padding: 20px 30px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            display: none;
            z-index: 100;
            border: 3px solid var(--primary);
            width: 90%;
            max-width: 600px;
            animation: slideUp 0.3s ease-out;
        }

        .result-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin-top: 10px;
        }

        .res-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .res-label { font-size: 0.75rem; text-transform: uppercase; font-weight: 700; color: #b2bec3; }
        .res-val { font-size: 1.5rem; font-weight: 800; color: var(--primary); }
        .res-status { font-size: 0.8rem; font-weight: 700; margin-top: 5px; padding: 2px 8px; border-radius: 10px; }

        .status-risk { background: #ff7675; color: white; }
        .status-ok { background: #55efc4; color: #2d3436; }

        @keyframes slideUp {
            from { transform: translate(-50%, 100px); }
            to { transform: translate(-50%, 0); }
        }

        /* Botão Voltar */
        .btn-back {
            display: inline-block; margin-top: 20px; color: #b2bec3; text-decoration: none; font-weight: 600; transition: 0.3s;
        }
        .btn-back:hover { color: var(--primary); }

        @media (max-width: 600px) {
            .q-text { font-size: 1rem; }
            .option-label { padding: 10px 2px; }
            .opt-text { font-size: 0.65rem; }
            .result-grid { grid-template-columns: 1fr; gap: 5px; }
            .res-item { flex-direction: row; justify-content: space-between; padding: 8px 15px; }
        }
    </style>
</head>
<body>

    <header data-aos="fade-down">
        <h1>SNAP-IV</h1>
        <div class="subtitle">Escala de TDAH para Pais e Professores</div>
    </header>

    <div class="main-container">
        
        <div style="text-align: center; margin-bottom: 30px; font-weight: 600; color: #636e72;">
            Marque o comportamento da criança/adolescente nos últimos 6 meses.
        </div>

        <form id="snapForm">
            <div id="questions-container"></div>
        </form>

        <center>
            <a href="../listaferramentas.html" class="btn-back"><i class="fa-solid fa-arrow-left"></i> Voltar para Ferramentas</a>
        </center>
    </div>

    <div class="result-bar" id="resultBar">
        <div style="font-weight: 800; font-size: 1.1rem; color: var(--primary-dark);">RESULTADO PRELIMINAR</div>
        <div class="result-grid">
            <div class="res-item">
                <span class="res-label">Desatenção</span>
                <div>
                    <span class="res-val" id="score-inatt">0</span><span style="font-size:0.9rem; color:#ccc;">/9</span>
                </div>
                <span class="res-status" id="status-inatt">...</span>
            </div>
            <div class="res-item">
                <span class="res-label">Hiperativid.</span>
                <div>
                    <span class="res-val" id="score-hyp">0</span><span style="font-size:0.9rem; color:#ccc;">/9</span>
                </div>
                <span class="res-status" id="status-hyp">...</span>
            </div>
            <div class="res-item">
                <span class="res-label">Opositor</span>
                <div>
                    <span class="res-val" id="score-odd">0</span><span style="font-size:0.9rem; color:#ccc;">/8</span>
                </div>
                <span class="res-status" id="status-odd">...</span>
            </div>
        </div>
        <div style="margin-top: 15px;">
            <button onclick="window.print()" style="background:#2d3436; color:white; border:none; padding:8px 20px; border-radius:20px; font-weight:bold; cursor:pointer;">
                <i class="fa-solid fa-print"></i> Salvar PDF
            </button>
        </div>
    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();

        const items = [
            // DESATENÇÃO (1-9)
            "Não consegue prestar muita atenção a detalhes ou comete erros por descuido.",
            "Tem dificuldade de manter a atenção em tarefas ou atividades de lazer.",
            "Parece não estar ouvindo quando se fala diretamente com ele(a).",
            "Não segue instruções até o fim e não termina deveres ou tarefas.",
            "Tem dificuldade para organizar tarefas e atividades.",
            "Evita ou não gosta de tarefas que exigem esforço mental prolongado.",
            "Perde coisas necessárias para atividades (lápis, livros, brinquedos).",
            "Distrai-se com estímulos externos.",
            "É esquecido em atividades do dia-a-dia.",
            
            // HIPERATIVIDADE/IMPULSIVIDADE (10-18)
            "Mexe com as mãos ou os pés ou se remexe na cadeira.",
            "Sai do lugar na sala de aula ou onde se espera que fique sentado.",
            "Corre de um lado para outro ou sobe nas coisas em situações inapropriadas.",
            "Tem dificuldade em brincar ou envolver-se em lazer de forma calma.",
            "Não para ou frequentemente está 'a mil por hora'.",
            "Fala em excesso.",
            "Responde as perguntas de forma precipitada antes de terminadas.",
            "Tem dificuldade de esperar sua vez.",
            "Interrompe os outros ou se intromete (conversas, jogos).",

            // OPOSITOR/DESAFIADOR (19-26)
            "Descontrola-se.",
            "Discute com adultos.",
            "Desafia ativamente ou se recusa a atender pedidos/regras.",
            "Faz coisas de propósito que incomodam outras pessoas.",
            "Culpa os outros pelos seus erros ou mau comportamento.",
            "É irritável ou facilmente incomodado pelos outros.",
            "É zangado e ressentido.",
            "É maldoso ou vingativo."
        ];

        const options = [
            { val: 0, text: "Nem um Pouco" },
            { val: 1, text: "Só um Pouco" },
            { val: 2, text: "Bastante" },
            { val: 3, text: "Demais" }
        ];

        const container = document.getElementById('questions-container');

        items.forEach((text, index) => {
            // Cabeçalhos de Seção
            if(index === 0) container.innerHTML += `<div class='section-header'><i class="fa-solid fa-eye-slash"></i> Desatenção</div>`;
            if(index === 9) container.innerHTML += `<div class='section-header'><i class="fa-solid fa-bolt"></i> Hiperatividade / Impulsividade</div>`;
            if(index === 18) container.innerHTML += `<div class='section-header'><i class="fa-solid fa-face-angry"></i> Opositor / Desafiador (TOD)</div>`;

            const card = document.createElement('div');
            card.className = 'question-card';
            card.setAttribute('data-aos', 'fade-up');

            let optionsHTML = '';
            options.forEach(opt => {
                optionsHTML += `
                    <label class="option-label btn-${opt.val}">
                        <input type="radio" name="q${index}" value="${opt.val}" onchange="calculateScore()">
                        <span class="opt-val">${opt.val}</span>
                        <span class="opt-text">${opt.text}</span>
                    </label>
                `;
            });

            card.innerHTML = `
                <div class="q-header">
                    <div class="q-number">${index + 1}</div>
                    <div class="q-text">${text}</div>
                </div>
                <div class="options-row">${optionsHTML}</div>
            `;
            container.appendChild(card);
        });

        function calculateScore() {
            let countInatt = 0; // 1-9
            let countHyp = 0;   // 10-18
            let countODD = 0;   // 19-26
            let answered = 0;

            const form = document.getElementById('snapForm');
            const formData = new FormData(form);

            for (let pair of formData.entries()) {
                const idx = parseInt(pair[0].substring(1)); // q0, q1...
                const val = parseInt(pair[1]);
                
                answered++;

                // Apenas valores 2 (Bastante) e 3 (Demais) contam como sintoma
                if (val >= 2) {
                    if (idx < 9) countInatt++;
                    else if (idx < 18) countHyp++;
                    else countODD++;
                }
            }

            if (answered > 0) {
                document.getElementById('resultBar').style.display = 'block';
                
                updateStatus('score-inatt', 'status-inatt', countInatt, 6);
                updateStatus('score-hyp', 'status-hyp', countHyp, 6);
                updateStatus('score-odd', 'status-odd', countODD, 4);
            }
        }

        function updateStatus(scoreId, statusId, count, cutoff) {
            document.getElementById(scoreId).innerText = count;
            const statusEl = document.getElementById(statusId);
            
            if (count >= cutoff) {
                statusEl.innerText = "ALTO RISCO";
                statusEl.className = "res-status status-risk";
            } else {
                statusEl.innerText = "BAIXO";
                statusEl.className = "res-status status-ok";
            }
        }
    </script>

</body>
</html>
