<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPIN - Fobia Social | Caderno Incrível</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* Paleta Lúdica */
            --bg-color: #f0f8ff;
            --paper: #ffffff;
            --primary: #5f27cd; /* Roxo Profundo */
            --secondary: #48dbfb; /* Azul Claro */
            --accent: #ff9f43; /* Laranja */
            --text: #2d3436;
            --shadow: rgba(0,0,0,0.1);
        }

        body {
            font-family: 'Comic Sans MS', 'Chalkboard SE', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#dfe6e9 2px, transparent 2px);
            background-size: 20px 20px;
            margin: 0;
            padding: 20px;
            color: var(--text);
            display: flex;
            justify-content: center;
        }

        .container {
            width: 100%;
            max-width: 850px;
            background: var(--paper);
            padding: 40px;
            border-radius: 25px;
            box-shadow: 10px 10px 0 var(--shadow);
            border: 3px solid var(--text);
            position: relative;
        }

        /* CABEÇALHO */
        header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        header::before {
            content: ""; position: absolute; top: -55px; left: 50%; transform: translateX(-50%) rotate(2deg);
            width: 180px; height: 40px; background-color: rgba(95, 39, 205, 0.7);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        h1 { margin: 0; color: var(--primary); font-size: 2rem; text-transform: uppercase; }
        .instruction { font-size: 1.1rem; color: #636e72; margin-top: 15px; }

        /* LISTA DE PERGUNTAS */
        .question-item {
            background: #fff;
            margin-bottom: 20px;
            padding: 20px;
            border-radius: 15px;
            border: 2px dashed #b2bec3;
            transition: background 0.2s;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .question-item:hover { border-color: var(--primary); background-color: #f4f0ff; }

        .q-text { 
            font-size: 1.1rem; 
            font-weight: bold; 
            display: flex; 
            gap: 10px; 
            align-items: center; 
        }
        
        .q-number { 
            background: var(--accent); 
            color: white; 
            min-width: 30px; height: 30px; 
            border-radius: 50%; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 0.9rem; border: 2px solid white; box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
        }

        /* OPÇÕES DE RESPOSTA */
        .options-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 8px;
        }

        .option-label {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px 5px;
            border-radius: 10px;
            border: 1px solid #dfe6e9;
            cursor: pointer;
            font-size: 0.85rem;
            text-align: center;
            transition: all 0.2s;
            background: white;
            color: #636e72;
        }

        .option-label input { display: none; }

        /* Estilos de Seleção */
        .option-label:has(input:checked) {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 0 #341f97;
            font-weight: bold;
        }

        .val-indicator { font-size: 1.2rem; margin-bottom: 2px; }

        /* RODAPÉ E RESULTADO */
        .result-box {
            margin-top: 40px;
            background: #c8d6e5;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            border: 3px solid var(--text);
            display: none;
        }

        .score-display { font-size: 3rem; color: var(--primary); font-weight: 800; margin: 10px 0; }
        
        /* BOTÃO SALVAR */
        .btn-action {
            display: block; width: 100%;
            margin-top: 30px; padding: 15px;
            background-color: var(--primary); color: white;
            border: none; border-radius: 50px;
            font-size: 1.3rem; font-weight: bold; font-family: inherit;
            cursor: pointer; box-shadow: 0 6px 0 #341f97;
            transition: transform 0.1s;
        }
        .btn-action:hover { transform: translateY(-3px); }
        .btn-action:active { transform: translateY(3px); box-shadow: none; }

        @media print {
            body { background: white; padding: 0; }
            .container { box-shadow: none; border: none; width: 100%; }
            .btn-action { display: none; }
            .question-item { page-break-inside: avoid; border: 1px solid #ccc; background: none; }
            .option-label { border: 1px solid #000; color: #000 !important; box-shadow: none !important; }
            .option-label:has(input:checked) { background: #ddd !important; border: 2px solid black; }
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>SPIN - Fobia Social</h1>
            <p class="instruction">
                Indique quanto os seguintes problemas incomodaram você <strong>durante a última semana</strong>.
            </p>
        </header>

        <form id="spin-form">
            <div id="questions-container"></div>
        </form>

        <div class="result-box" id="result-area">
            <h3 style="margin:0; text-transform: uppercase;">Pontuação Total</h3>
            <div class="score-display" id="total-score">0</div>
            <p style="font-size: 0.9rem; color: #555;">(Interpretação clínica reservada ao psicólogo)</p>
        </div>

        <button class="btn-action" onclick="window.print()">
            <i class="fa-solid fa-print"></i> IMPRIMIR / SALVAR PDF
        </button>
    </div>

    <script>
        // DADOS DO SPIN (PDF)
        const questions = [
            "Tenho medo de autoridades",
            "Incomodo-me por ficar vermelho na frente das pessoas",
            "Festas e eventos sociais me assustam",
            "Evito falar com pessoas que não conheço",
            "Fico muito assustado ao ser criticado",
            "Evito fazer coisas ou falar com certas pessoas por medo de ficar envergonhado",
            "Transpirar na frente das pessoas me incomoda",
            "Evito ir a festas",
            "Evito atividades nas quais sou o centro das atenções",
            "Conversar com estranhos me assusta",
            "Evito falar para uma plateia ou dar discursos",
            "Faço qualquer coisa para não ser criticado",
            "Sentir palpitações cardíacas me incomoda quando estou no meio de outras pessoas",
            "Tenho receio de fazer coisas quando posso estar sendo observado",
            "Ficar envergonhado ou parecer bobo são meus maiores temores",
            "Evito falar com qualquer autoridade",
            "Tremer ou estremecer na frente das outras pessoas me angustia"
        ];

        const options = [
            { val: 0, text: "Nada" },
            { val: 1, text: "Um pouco" },
            { val: 2, text: "Moderado" },
            { val: 3, text: "Bastante" },
            { val: 4, text: "Extremamente" }
        ];

        const container = document.getElementById('questions-container');

        // GERAR PERGUNTAS
        questions.forEach((q, index) => {
            const div = document.createElement('div');
            div.className = 'question-item';
            
            let optionsHTML = '';
            options.forEach(opt => {
                optionsHTML += `
                    <label class="option-label">
                        <input type="radio" name="q${index}" value="${opt.val}" onchange="calculateScore()">
                        <span class="val-indicator">${opt.val}</span>
                        <span>${opt.text}</span>
                    </label>
                `;
            });

            div.innerHTML = `
                <div class="q-text">
                    <span class="q-number">${index + 1}</span>
                    ${q}
                </div>
                <div class="options-row">
                    ${optionsHTML}
                </div>
            `;
            container.appendChild(div);
        });

        // CALCULAR PONTUAÇÃO
        function calculateScore() {
            let total = 0;
            let answeredCount = 0;
            const form = document.getElementById('spin-form');
            const formData = new FormData(form);

            for (let pair of formData.entries()) {
                total += parseInt(pair[1]);
                answeredCount++;
            }

            // Exibir se começou a responder
            const resultArea = document.getElementById('result-area');
            const scoreDisplay = document.getElementById('total-score');
            
            if (answeredCount > 0) {
                resultArea.style.display = 'block';
                scoreDisplay.innerText = total;
            }
        }
    </script>
</body>
</html>
