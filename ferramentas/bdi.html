<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BDI - Inventário de Depressão</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f0f8ff; padding: 20px; }
        .container { max-width: 850px; margin: 0 auto; background: white; padding: 40px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); border: 2px solid #2980b9; }
        h1 { text-align: center; color: #2980b9; margin-bottom: 10px; }
        .subtitle { text-align: center; color: #666; margin-bottom: 30px; }
        
        .group-container {
            background: #fff;
            border: 1px solid #dfe6e9;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .group-title {
            font-size: 1rem;
            font-weight: bold;
            color: #2980b9;
            text-transform: uppercase;
            margin-bottom: 15px;
            border-bottom: 2px solid #f1f2f6;
            padding-bottom: 5px;
        }

        .option-label {
            display: block;
            padding: 10px 15px;
            margin-bottom: 8px;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
            border: 1px solid transparent;
        }

        .option-label:hover { background: #eaf2f8; border-color: #a9cce3; }

        /* Input escondido + Estilo de Seleção */
        input[type="radio"] { margin-right: 10px; transform: scale(1.2); }
        
        .option-label:has(input:checked) {
            background-color: #d4e6f1;
            border-color: #2980b9;
            color: #154360;
            font-weight: bold;
        }

        .result-bar {
            position: sticky;
            bottom: 20px;
            background: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 50px;
            text-align: center;
            font-size: 1.2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: none; /* Aparece ao clicar */
            width: fit-content;
            margin: 20px auto 0 auto;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>BDI</h1>
    <p class="subtitle">Leia cada grupo de afirmações e escolha a que melhor descreve como você se sentiu <strong>na última semana</strong>.</p>

    <form id="bdiForm">
        <div id="questions-area"></div>
    </form>

    <div class="result-bar" id="resultBar">
        Pontuação: <span id="scoreVal">0</span>
    </div>
</div>

<script>
    // DADOS COMPLETOS E CORRIGIDOS
    const bdiData = [
        {
            title: "1. Tristeza",
            options: [
                "0 - Não me sinto triste.",
                "1 - Eu me sinto triste.",
                "2 - Estou sempre triste e não consigo sair disto.",
                "3 - Estou tão triste ou infeliz que não consigo suportar."
            ]
        },
        {
            title: "2. Pessimismo",
            options: [
                "0 - Não estou especialmente desanimado quanto ao futuro.",
                "1 - Eu me sinto desanimado quanto ao futuro.",
                "2 - Acho que nada tenho a esperar.",
                "3 - Acho o futuro sem esperança e tenho a impressão de que as coisas não podem melhorar."
            ]
        },
        {
            title: "3. Fracasso",
            options: [
                "0 - Não me sinto um fracasso.",
                "1 - Acho que fracassei mais do que uma pessoa comum.",
                "2 - Quando olho para trás, na minha vida, tudo o que posso ver é um monte de fracassos.",
                "3 - Acho que, como pessoa, sou um completo fracasso."
            ]
        },
        {
            title: "4. Insatisfação",
            options: [
                "0 - Tenho tanto prazer em tudo como antes.",
                "1 - Não sinto mais prazer nas coisas como antes.",
                "2 - Não encontro um prazer real em mais nada.",
                "3 - Estou insatisfeito ou aborrecido com tudo."
            ]
        },
        {
            title: "5. Culpa",
            options: [
                "0 - Não me sinto especialmente culpado.",
                "1 - Eu me sinto culpado grande parte do tempo.",
                "2 - Eu me sinto culpado na maior parte do tempo.",
                "3 - Eu me sinto sempre culpado."
            ]
        },
        {
            title: "6. Punição",
            options: [
                "0 - Não acho que esteja sendo punido.",
                "1 - Acho que posso ser punido.",
                "2 - Creio que vou ser punido.",
                "3 - Acho que estou sendo punido."
            ]
        },
        {
            title: "7. Auto-aversão",
            options: [
                "0 - Não me sinto decepcionado comigo mesmo.",
                "1 - Estou decepcionado comigo mesmo.",
                "2 - Estou enojado de mim.",
                "3 - Eu me odeio."
            ]
        },
        {
            title: "8. Auto-acusações",
            options: [
                "0 - Não me sinto de qualquer modo pior que os outros.",
                "1 - Sou crítico em relação a mim por minhas fraquezas ou erros.",
                "2 - Eu me culpo sempre por minhas falhas.",
                "3 - Eu me culpo por tudo de mal que acontece."
            ]
        },
        {
            title: "9. Ideias Suicidas",
            options: [
                "0 - Não tenho quaisquer ideias de me matar.",
                "1 - Tenho ideias de me matar, mas não as executaria.",
                "2 - Gostaria de me matar.",
                "3 - Eu me mataria se tivesse oportunidade."
            ]
        },
        {
            title: "10. Choro",
            options: [
                "0 - Não choro mais que o habitual.",
                "1 - Choro mais agora do que costumava.",
                "2 - Agora, choro o tempo todo.",
                "3 - Costumava ser capaz de chorar, mas agora não consigo, mesmo que o queira."
            ]
        },
        {
            title: "11. Irritabilidade",
            options: [
                "0 - Não sou mais irritado agora do que já fui.",
                "1 - Fico aborrecido ou irritado mais facilmente do que costumava.",
                "2 - Agora, eu me sinto irritado o tempo todo.",
                "3 - Não me irrito mais com coisas que costumavam me irritar."
            ]
        },
        {
            title: "12. Retraimento Social",
            options: [
                "0 - Não perdi o interesse pelas outras pessoas.",
                "1 - Estou menos interessado pelas outras pessoas do que costumava estar.",
                "2 - Perdi a maior parte do meu interesse pelas outras pessoas.",
                "3 - Perdi todo o interesse pelas outras pessoas."
            ]
        },
        {
            title: "13. Indecisão",
            options: [
                "0 - Tomo decisões tão bem quanto antes.",
                "1 - Adio as tomadas de decisões mais do que costumava.",
                "2 - Tenho mais dificuldades de tomar decisões do que antes.",
                "3 - Absolutamente não consigo mais tomar decisões."
            ]
        },
        {
            title: "14. Mudança na Autoimagem",
            options: [
                "0 - Não acho que de qualquer modo pareço pior do que antes.",
                "1 - Estou preocupado em estar parecendo velho ou sem atrativo.",
                "2 - Acho que há mudanças permanentes na minha aparência, que me fazem parecer sem atrativo.",
                "3 - Acredito que pareço feio."
            ]
        },
        {
            title: "15. Dificuldade de Trabalhar",
            options: [
                "0 - Posso trabalhar tão bem quanto antes.",
                "1 - É preciso algum esforço extra para fazer alguma coisa.",
                "2 - Tenho que me esforçar muito para fazer alguma coisa.",
                "3 - Não consigo mais fazer qualquer trabalho."
            ]
        },
        {
            title: "16. Alterações no Sono",
            options: [
                "0 - Consigo dormir tão bem como o habitual.",
                "1 - Não durmo tão bem como costumava.",
                "2 - Acordo 1 a 2 horas mais cedo do que habitualmente e acho difícil voltar a dormir.",
                "3 - Acordo várias horas mais cedo do que costumava e não consigo voltar a dormir."
            ]
        },
        {
            title: "17. Fadiga",
            options: [
                "0 - Não fico mais cansado do que o habitual.",
                "1 - Fico cansado mais facilmente do que costumava.",
                "2 - Fico cansado em fazer qualquer coisa.",
                "3 - Estou cansado demais para fazer qualquer coisa."
            ]
        },
        {
            title: "18. Perda de Apetite",
            options: [
                "0 - O meu apetite não está pior do que o habitual.",
                "1 - Meu apetite não é tão bom como costumava ser.",
                "2 - Meu apetite é muito pior agora.",
                "3 - Absolutamente não tenho mais apetite."
            ]
        },
        {
            title: "19. Perda de Peso",
            options: [
                "0 - Não tenho perdido muito peso, se é que perdi algum recentemente.",
                "1 - Perdi mais do que 2,5 kg.",
                "2 - Perdi mais do que 5 kg.",
                "3 - Perdi mais do que 7 kg."
            ]
        },
        {
            title: "20. Preocupações Somáticas",
            options: [
                "0 - Não estou mais preocupado com a minha saúde do que o habitual.",
                "1 - Estou preocupado com problemas físicos (dores, estômago, etc.).",
                "2 - Estou muito preocupado com problemas físicos e é difícil pensar em outra coisa.",
                "3 - Estou tão preocupado com meus problemas físicos que não consigo pensar em qualquer outra coisa."
            ]
        },
        {
            title: "21. Perda de Libido",
            options: [
                "0 - Não notei qualquer mudança recente no meu interesse por sexo.",
                "1 - Estou menos interessado por sexo do que costumava.",
                "2 - Estou muito menos interessado por sexo agora.",
                "3 - Perdi completamente o interesse por sexo."
            ]
        }
    ];

    const area = document.getElementById('questions-area');

    // Gerar Perguntas
    bdiData.forEach((item, index) => {
        const groupDiv = document.createElement('div');
        groupDiv.className = 'group-container';
        
        // Título do Grupo
        const title = document.createElement('div');
        title.className = 'group-title';
        title.innerText = item.title;
        groupDiv.appendChild(title);

        // Opções
        item.options.forEach((optText, optIndex) => {
            const label = document.createElement('label');
            label.className = 'option-label';
            
            // O valor é o índice (0, 1, 2, 3)
            label.innerHTML = `
                <input type="radio" name="g${index}" value="${optIndex}" onchange="calcScore()">
                ${optText}
            `;
            groupDiv.appendChild(label);
        });

        area.appendChild(groupDiv);
    });

    // Calcular
    function calcScore() {
        let total = 0;
        const form = document.getElementById('bdiForm');
        const formData = new FormData(form);
        let count = 0;

        for (let pair of formData.entries()) {
            total += parseInt(pair[1]);
            count++;
        }

        const bar = document.getElementById('resultBar');
        const span = document.getElementById('scoreVal');
        
        if (count > 0) {
            bar.style.display = 'block';
            span.innerText = total;
        }
    }
</script>

</body>
</html>
